name: linting-building-testing
on:
  push:
    branches: [main]
  pull_request:
    branches: [main]
jobs:
  pipeline:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        node-version: [12.x]

    steps:
    - uses: actions/checkout@v3

    - name: installing modules
      run: yarn

    - name: build production
      run: yarn build:prod

    - name: linting
      run: yarn lint

    - name: linting typescript
      run: yarn lint:ts

    - name: linting css
      run: yarn lint:css

    - name: unit testing
      run: yarn test:unit

    - name: build storybook
      run: yarn storybook:build

    - name: test ui
      run: yarn test:ui:ci
